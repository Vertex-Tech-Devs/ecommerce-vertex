{
  "version": 3,
  "sources": ["src/app/features/shop/components/catalog/catalog.component.ts", "src/app/features/shop/components/catalog/catalog.component.html"],
  "sourcesContent": ["import { Component, inject, OnInit, HostListener, ChangeDetectorRef, signal } from '@angular/core';\nimport { CommonModule, CurrencyPipe } from '@angular/common';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { Observable, BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, startWith, debounceTime, take, switchMap, distinctUntilChanged } from 'rxjs/operators';\n\nimport { Product } from '@core/models/product.model';\nimport { Category } from '@core/models/category.model';\nimport { Attribute } from '@core/models/attribute.model';\nimport { ProductService, ProductFilters } from '@core/services/product.service';\nimport { CategoryService } from '@core/services/category.service';\nimport { AttributeService } from '@core/services/attribute.service';\n\n@Component({\n  selector: 'app-catalog',\n  standalone: true,\n  imports: [CommonModule, RouterModule, CurrencyPipe, ReactiveFormsModule],\n  templateUrl: './catalog.component.html',\n  styleUrls: ['./catalog.component.scss']\n})\nexport class CatalogComponent implements OnInit {\n  private productService = inject(ProductService);\n  private categoryService = inject(CategoryService);\n  private attributeService = inject(AttributeService);\n  private fb = inject(FormBuilder);\n  private route = inject(ActivatedRoute);\n  private cdr = inject(ChangeDetectorRef);\n\n  public paginatedProducts$!: Observable<Product[]>;\n  public categories$!: Observable<Category[]>;\n  \n  private allAttributes = signal<Attribute[]>([]);\n  public activeAttributes = signal<Attribute[]>([]);\n  private allCategories = signal<Map<string, Category>>(new Map());\n\n  public filterForm: FormGroup;\n  private sortSubject = new BehaviorSubject<string>('newest');\n  private pageSubject = new BehaviorSubject<number>(1);\n  private productsFromQuery$ = new BehaviorSubject<Product[]>([]);\n\n  public isSidebarOpen = false;\n  public totalPages = 0;\n  public currentPage = 1;\n\n  private itemsPerPage = new BehaviorSubject<number>(this.isMobile() ? 12 : 12);\n\n  constructor() {\n    this.filterForm = this.fb.group({\n      category: [null],\n      minPrice: [null],\n      maxPrice: [null],\n      dynamicAttributes: this.fb.group({})\n    });\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: Event): void {\n    this.itemsPerPage.next(this.isMobile() ? 12 : 12);\n  }\n\n  ngOnInit(): void {\n    this.loadInitialDataAndInitializeForm();\n  }\n\n  private isMobile(): boolean {\n    return window.innerWidth < 992;\n  }\n\n  private loadInitialDataAndInitializeForm(): void {\n    this.categories$ = this.categoryService.getCategories().pipe(\n      map(categories => {\n        const categoryMap = new Map<string, Category>();\n        categories.forEach(cat => categoryMap.set(cat.id!, cat));\n        this.allCategories.set(categoryMap);\n        return categories;\n      })\n    );\n\n    this.attributeService.getAttributes().pipe(take(1)).subscribe(attrs => {\n      this.allAttributes.set(attrs);\n      this.activeAttributes.set([]);\n      \n      const dynamicGroup = this.filterForm.get('dynamicAttributes') as FormGroup;\n      attrs.forEach(attr => {\n        if (attr.id) {\n          const controls = attr.values.reduce((acc, val) => {\n            acc[val] = this.fb.control(false);\n            return acc;\n          }, {} as { [key: string]: FormControl });\n          dynamicGroup.addControl(attr.id, this.fb.group(controls));\n        }\n      });\n      \n      this.setupFormListeners();\n      this.setupProductLoadingPipeline();\n      this.applyInitialCategoryFilter();\n    });\n  }\n\n  private setupFormListeners(): void {\n    const filters$ = this.filterForm.valueChanges.pipe(\n      startWith(this.filterForm.value),\n      debounceTime(200),\n      distinctUntilChanged((prev, curr) => JSON.stringify(prev) === JSON.stringify(curr))\n    );\n\n    filters$.pipe(\n      map(filters => filters.category),\n      distinctUntilChanged(),\n      switchMap(categoryId => {\n        this.pageSubject.next(1);\n        this.updateActiveFilters(categoryId ?? null);\n        const catId = categoryId === 'all' ? null : categoryId;\n        return this.productService.getProductsByQuery(catId);\n      })\n    ).subscribe(products => {\n      this.productsFromQuery$.next(products);\n    });\n  }\n\n  private updateActiveFilters(selectedCategoryId: string | null): void {\n    if (!selectedCategoryId || selectedCategoryId === 'all') {\n      this.activeAttributes.set([]);\n      return;\n    }\n\n    const category = this.allCategories().get(selectedCategoryId);\n    if (category && category.filterableAttributes) {\n      const active = this.allAttributes().filter(attr => \n        category.filterableAttributes.includes(attr.id!)\n      );\n      this.activeAttributes.set(active);\n    } else {\n      this.activeAttributes.set([]);\n    }\n  }\n\n  private setupProductLoadingPipeline(): void {\n    const filteredProducts$ = combineLatest([\n      this.productsFromQuery$,\n      this.filterForm.valueChanges.pipe(startWith(this.filterForm.value), debounceTime(200))\n    ]).pipe(\n      map(([products, filters]) => {\n        const { minPrice, maxPrice, dynamicAttributes } = filters;\n\n        const dynamicFilters: { [key: string]: string[] } = {};\n        for (const attrId in dynamicAttributes) {\n          if (Object.prototype.hasOwnProperty.call(dynamicAttributes, attrId)) {\n            const valuesGroup = dynamicAttributes[attrId];\n            const selectedValues = Object.keys(valuesGroup).filter(key => valuesGroup[key]);\n            if (selectedValues.length > 0) {\n              dynamicFilters[attrId] = selectedValues;\n            }\n          }\n        }\n        \n        const hasPriceFilter = (minPrice !== null && minPrice !== undefined) || (maxPrice !== null && maxPrice !== undefined && maxPrice > 0);\n        const hasDynamicFilter = Object.keys(dynamicFilters).length > 0;\n\n        return products.filter(product => {\n          if (product.totalStock <= 0) {\n            return false;\n          }\n\n          if (hasPriceFilter) {\n            if (minPrice !== null && product.price < minPrice) {\n              return false;\n            }\n            if (maxPrice !== null && maxPrice > 0 && product.price > maxPrice) {\n              return false;\n            }\n          }\n\n          if (hasDynamicFilter) {\n            const match = Object.entries(dynamicFilters).every(([attrId, values]) => {\n              const productAttributeValues = product.inStockAttributes[attrId];\n              if (!productAttributeValues) {\n                return false;\n              }\n              return values.some(val => productAttributeValues.includes(val));\n            });\n            if (!match) {\n              return false;\n            }\n          }\n          \n          return true;\n        });\n      })\n    );\n    \n    const sortedProducts$ = combineLatest([\n      filteredProducts$,\n      this.sortSubject\n    ]).pipe(\n      map(([products, sort]) => {\n        const sorted = [...products];\n        if (sort === 'priceAsc') {\n          sorted.sort((a, b) => a.price - b.price);\n        } else if (sort === 'priceDesc') {\n          sorted.sort((a, b) => b.price - a.price);\n        } else if (sort === 'newest') {\n          sorted.sort((a, b) => {\n            const dateA = a.createdAt instanceof Date ? a.createdAt.getTime() : 0;\n            const dateB = b.createdAt instanceof Date ? b.createdAt.getTime() : 0;\n            return dateB - dateA;\n          });\n        }\n        return sorted;\n      })\n    );\n\n    this.paginatedProducts$ = combineLatest([\n      sortedProducts$,\n      this.pageSubject,\n      this.itemsPerPage\n    ]).pipe(\n      map(([products, page, itemsPerPageValue]) => {\n        this.totalPages = Math.ceil(products.length / itemsPerPageValue);\n        this.currentPage = page;\n        this.cdr.detectChanges();\n\n        const startIndex = (page - 1) * itemsPerPageValue;\n        const endIndex = startIndex + itemsPerPageValue;\n        return products.slice(startIndex, endIndex);\n      })\n    );\n  }\n\n  private applyInitialCategoryFilter(): void {\n    this.route.queryParamMap.pipe(take(1)).subscribe(params => {\n      const categoryId = params.get('category');\n      if (categoryId) {\n        this.filterForm.patchValue({ category: categoryId });\n      } else {\n        this.filterForm.patchValue({ category: 'all' });\n      }\n    });\n  }\n\n  public toggleSidebar(): void {\n    this.isSidebarOpen = !this.isSidebarOpen;\n  }\n\n  onSortChange(event: Event): void {\n    const selectElement = event.target as HTMLSelectElement;\n    this.sortSubject.next(selectElement.value);\n    this.pageSubject.next(1);\n  }\n\n  clearFilters(): void {\n    const dynamicGroup = this.filterForm.get('dynamicAttributes') as FormGroup;\n    dynamicGroup.reset();\n    this.filterForm.patchValue({\n      category: this.filterForm.get('category')?.value,\n      minPrice: null,\n      maxPrice: null\n    });\n    this.pageSubject.next(1);\n  }\n\n  goToPage(page: number): void {\n    if (page >= 1 && page <= this.totalPages) {\n      this.pageSubject.next(page);\n    }\n  }\n}", "<div class=\"sidebar-overlay\" [class.is-visible]=\"isSidebarOpen\" (click)=\"toggleSidebar()\"></div>\n\n<div class=\"container py-5\">\n  <h1 class=\"catalog-title\">Nuestro Catálogo</h1>\n  <div class=\"catalog-layout\">\n\n    <aside class=\"filter-sidebar\" [class.is-open]=\"isSidebarOpen\" [formGroup]=\"filterForm\">\n      <div class=\"filter-sidebar-content\">\n        <div class=\"d-flex justify-content-between align-items-center mb-3 pb-3 border-bottom\">\n          <h3 class=\"filter-title mb-0\">Filtros</h3>\n          <button class=\"btn-close d-lg-none\" (click)=\"toggleSidebar()\"></button>\n        </div>\n        \n        <div class=\"filter-group\">\n          <h5 class=\"filter-group-title\">Categorías</h5>\n          @if (categories$ | async; as categories) {\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"category\" id=\"cat-all\" value=\"all\" formControlName=\"category\">\n              <label class=\"form-check-label\" for=\"cat-all\">Todas</label>\n            </div>\n            @for (cat of categories; track cat.id) {\n              <div class=\"form-check\">\n                <input class=\"form-check-input\" type=\"radio\" name=\"category\" [id]=\"'cat-' + cat.id\" [value]=\"cat.id\" formControlName=\"category\">\n                <label class=\"form-check-label\" [for]=\"'cat-' + cat.id\">{{ cat.name }}</label>\n              </div>\n            }\n          }\n        </div>\n        \n        <div formGroupName=\"dynamicAttributes\">\n          @if(activeAttributes().length > 0) {\n            @for (attr of activeAttributes(); track attr.id) {\n              @if (attr.id && filterForm.get('dynamicAttributes.' + attr.id)) {\n                <div class=\"filter-group\" [formGroupName]=\"attr.id\">\n                  <h5 class=\"filter-group-title\">{{ attr.name }}</h5>\n                  @for (val of attr.values; track val) {\n                    <div class=\"form-check\">\n                      <input class=\"form-check-input\" type=\"checkbox\" [id]=\"'attr-' + attr.id + '-' + val\" [formControlName]=\"val\">\n                      <label class=\"form-check-label\" [for]=\"'attr-' + attr.id + '-' + val\">{{ val }}</label>\n                    </div>\n                  }\n                </div>\n              }\n            }\n          } @else {\n            @if (filterForm.get('category')?.value !== 'all') {\n              <div class=\"filter-group\">\n                <p class=\"filter-helper-text\">Esta categoría no tiene filtros adicionales.</p>\n              </div>\n            }\n          }\n        </div>\n        \n        <div class=\"filter-group\">\n          <h5 class=\"filter-group-title\">Precio</h5>\n          <div class=\"price-inputs d-flex align-items-center gap-2\">\n            <input type=\"number\" class=\"form-control form-control-sm\" placeholder=\"Mín\" formControlName=\"minPrice\">\n            <span>-</span>\n            <input type=\"number\" class=\"form-control form-control-sm\" placeholder=\"Máx\" formControlName=\"maxPrice\">\n          </div>\n        </div>\n\n        <button class=\"btn btn-outline-secondary w-100\" (click)=\"clearFilters()\">Limpiar Filtros</button>\n      </div>\n    </aside>\n\n    <main class=\"product-list\">\n      <div class=\"d-flex justify-content-between align-items-center mb-4\">\n        <button class=\"btn btn-outline-secondary d-lg-none\" (click)=\"toggleSidebar()\">\n          <i class=\"bi bi-funnel-fill me-2\"></i>Filtros\n        </button>\n        <div class=\"sorting-controls\">\n          <select class=\"form-select\" (change)=\"onSortChange($event)\">\n            <option value=\"newest\">Lo más nuevo</option>\n            <option value=\"priceAsc\">Precio: Menor a Mayor</option>\n            <option value=\"priceDesc\">Precio: Mayor a Menor</option>\n          </select>\n        </div>\n      </div>\n      @if (paginatedProducts$ | async; as products) {\n        @if (products.length > 0) {\n          <div class=\"product-grid\">\n            @for (product of products; track product.id) {\n              <a [routerLink]=\"['/shop/product', product.id]\" class=\"product-card\">\n                <div class=\"product-card-inner\">\n                  <div class=\"product-image\">\n                    <img [src]=\"product.image\" [alt]=\"product.name\">\n                  </div>\n                  <div class=\"product-info\">\n                    <h3 class=\"product-name\">{{ product.name }}</h3>\n                    <p class=\"product-price\">{{ product.price | currency:'ARS':'$' }}</p>\n                  </div>\n                </div>\n              </a>\n            }\n          </div>\n\n          <nav *ngIf=\"totalPages > 1\" class=\"pagination-container mt-5\" aria-label=\"Paginación de productos\">\n            <ul class=\"pagination\">\n              <li class=\"page-item\" [class.disabled]=\"currentPage === 1\">\n                <a class=\"page-link\" (click)=\"goToPage(currentPage - 1); $event.preventDefault()\" aria-label=\"Anterior\">\n                  <span aria-hidden=\"true\">&laquo;</span>\n                </a>\n              </li>\n              @for (page of [].constructor(totalPages); track i; let i = $index) {\n                <li class=\"page-item\" [class.active]=\"currentPage === i + 1\">\n                  <a class=\"page-link\" (click)=\"goToPage(i + 1); $event.preventDefault()\">{{ i + 1 }}</a>\n                </li>\n              }\n              <li class=\"page-item\" [class.disabled]=\"currentPage === totalPages\">\n                <a class=\"page-link\" (click)=\"goToPage(currentPage + 1); $event.preventDefault()\" aria-label=\"Siguiente\">\n                  <span aria-hidden=\"true\">&raquo;</span>\n                </a>\n              </li>\n            </ul>\n          </nav>\n\n        } @else {\n          <div class=\"text-center text-muted py-5\">\n            <i class=\"bi bi-search fs-1\"></i>\n            <p class=\"mt-3\">No se encontraron productos con los filtros seleccionados.</p>\n          </div>\n        }\n      } @else {\n        <div class=\"text-center mt-5\">\n          <div class=\"spinner-border\" role=\"status\">\n            <span class=\"visually-hidden\">Cargando productos...</span>\n          </div>\n        </div>\n      }\n    </main>\n  </div>\n</div>"],
  "mappings": "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",
  "names": []
}
