{
  "version": 3,
  "sources": ["src/app/features/admin/components/login/login.component.ts", "src/app/features/admin/components/login/login.component.html"],
  "sourcesContent": ["import { Component, inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '@core/services/auth.service';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule\n  ],\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  private fb = inject(FormBuilder);\n  private authService = inject(AuthService);\n  private router = inject(Router);\n  private route = inject(ActivatedRoute);\n\n  loginForm!: FormGroup;\n  authErrorMessage = '';\n  isAlreadyLogged = false;\n  isSubmitting = false;\n  showPassword = false;\n\n  ngOnInit(): void {\n    this.loginForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required]]\n    });\n\n    this.authService.isAuthenticated().pipe(take(1)).subscribe((isAuth) => {\n      this.isAlreadyLogged = isAuth;\n    });\n\n    this.route.queryParams.subscribe(params => {\n      if (params['authError']) {\n        this.authErrorMessage = 'Debes iniciar sesión para acceder al panel de administración.';\n      }\n    });\n  }\n\n  get formControls() { return this.loginForm.controls; }\n\n  onSubmit(): void {\n    if (this.loginForm.invalid) {\n      this.loginForm.markAllAsTouched();\n      return;\n    }\n\n    this.isSubmitting = true;\n    const { email, password } = this.loginForm.value;\n\n    this.authService.login(email, password).pipe(take(1)).subscribe({\n      next: () => {\n        this.router.navigate(['/admin']);\n      },\n      error: (err: any) => {\n        this.authErrorMessage = 'Error al iniciar sesión. Verifica tus credenciales.';\n        this.isSubmitting = false;\n      }\n    });\n  }\n\n  async logout(): Promise<void> {\n    await this.authService.logout();\n    this.isAlreadyLogged = false;\n  }\n}", "<div class=\"login-container\">\n  <div class=\"card-gradient-wrapper\">\n    <div class=\"card shadow-sm rounded-3\">\n\n      <div class=\"card-header login-card-header text-center\">\n        <h2 class=\"mb-0\">Panel Administrador</h2>\n      </div>\n\n      <div class=\"card-body p-4\">\n        <h4 class=\"form-title text-center mb-4\">Iniciar Sesión</h4>\n\n        @if (authErrorMessage) {\n          <div class=\"alert alert-custom alert-warning\">\n            {{ authErrorMessage }}\n          </div>\n        }\n\n        @if (isAlreadyLogged) {\n          <div class=\"alert alert-custom alert-info\">\n            Ya has iniciado sesión. <a href=\"#\" (click)=\"logout()\">Cerrar sesión</a> para usar otra cuenta.\n          </div>\n        }\n\n        @if (!isAlreadyLogged) {\n          <form (ngSubmit)=\"onSubmit()\" [formGroup]=\"loginForm\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label\">Email</label>\n              <input id=\"email\" class=\"form-control\" type=\"email\" formControlName=\"email\" [class.is-invalid]=\"formControls['email'].invalid && formControls['email'].touched\" />\n              @if (formControls['email'].invalid && formControls['email'].touched) {\n                <div class=\"invalid-feedback d-block\">\n                  @if (formControls['email'].errors?.['required']) {\n                    <div>El email es obligatorio.</div>\n                  }\n                  @if (formControls['email'].errors?.['email']) {\n                    <div>El formato del email no es válido.</div>\n                  }\n                </div>\n              }\n            </div>\n\n            <div class=\"mb-3\">\n              <label for=\"password\" class=\"form-label\">Contraseña</label>\n              <div class=\"password-input-wrapper\" [class.is-invalid-wrapper]=\"formControls['password'].invalid && formControls['password'].touched\">\n                <input id=\"password\" [type]=\"showPassword ? 'text' : 'password'\" class=\"form-control\" formControlName=\"password\" />\n                <button type=\"button\" class=\"password-toggle-icon\" (click)=\"showPassword = !showPassword\" [attr.aria-label]=\"showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'\">\n                  <i class=\"bi\" [ngClass]=\"showPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'\"></i>\n                </button>\n              </div>\n              @if (formControls['password'].invalid && formControls['password'].touched) {\n                <div class=\"invalid-feedback d-block\">\n                  @if (formControls['password'].errors?.['required']) {\n                    <div>La contraseña es obligatoria.</div>\n                  }\n                </div>\n              }\n            </div>\n\n            <div class=\"d-grid gap-2 mt-4\">\n              <button id=\"login-btn\" class=\"btn\" [disabled]=\"loginForm.invalid || isSubmitting\">\n                @if (isSubmitting) {\n                  <span class=\"spinner-border spinner-border-sm me-2\" aria-hidden=\"true\"></span>\n                }\n                Ingresar\n              </button>\n            </div>\n          </form>\n        }\n      </div>\n\n    </div>\n  </div>\n</div>"],
  "mappings": "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",
  "names": []
}
